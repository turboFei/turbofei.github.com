I"ÄM
<p>ç›®å½•</p>

<ul id="markdown-toc">
  <li><a href="#background" id="markdown-toc-background">Background</a></li>
  <li><a href="#match" id="markdown-toc-match">match</a>    <ul>
      <li><a href="#æå–å™¨" id="markdown-toc-æå–å™¨">æå–å™¨</a></li>
    </ul>
  </li>
  <li><a href="#æ­£åˆ™åŒ¹é…" id="markdown-toc-æ­£åˆ™åŒ¹é…">æ­£åˆ™åŒ¹é…</a>    <ul>
      <li><a href="#-ä¸-" id="markdown-toc--ä¸-">â€â€ ä¸ â€œâ€œâ€â€â€œâ€œ</a></li>
      <li><a href="#regex" id="markdown-toc-regex">Regex</a></li>
    </ul>
  </li>
</ul>
<h3 id="background">Background</h3>

<p>scalaçš„ç¼–ç¨‹éå¸¸çµæ´»ï¼Œé‡Œé¢æœ‰å¾ˆå¤šçš„è¯­æ³•ç³–ï¼Œåœ¨scalaä¸­æ¨¡å¼åŒ¹é…éå¸¸å¸¸ç”¨ï¼Œå¾€å¾€ç”¨äºå–ä»£if elseï¼Œä½¿å¾—ä»£ç çœ‹èµ·æ¥æ›´åŠ ä¼˜é›…ï¼Œæœ¬æ–‡è®²ä¸€ä¸‹è‡ªå·±åœ¨æ—¥å¸¸ç¼–ç¨‹ä¸­ç”¨åˆ°æ¨¡å¼åŒ¹é…å’Œæ­£åˆ™ç›¸å…³çš„ä½¿ç”¨ç»éªŒæ€»ç»“ã€‚</p>

<h3 id="match">match</h3>

<p>matchæ˜¯å’Œcaseä¸€èµ·ä½¿ç”¨ã€‚å…¶å®æœ‰äº›æ—¶å€™æœ‰ä¸€äº›éšå¼çš„matchã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸¤æ®µä»£ç çš„åŠŸèƒ½éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯è¿‡æ»¤æ‰å­—ç¬¦ä¸²ä¸­çš„<code class="language-plaintext highlighter-rouge">'_'</code>å­—ç¬¦,å…¶å®è¿™æ®µä»£ç å¯ä»¥ç®€å•çš„ä½¿ç”¨<code class="language-plaintext highlighter-rouge">str.filterNot(_ != '_')</code>ï¼Œæœ¬ä¾‹å­åªæ˜¯è®²è§£match caseã€‚</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nv">str</span><span class="o">.</span><span class="py">flatMap</span> <span class="o">{</span>
      <span class="k">case</span> <span class="sc">'_'</span> <span class="k">=&gt;</span> <span class="s">""</span>
      <span class="k">case</span> <span class="n">c</span> <span class="k">=&gt;</span> <span class="n">s</span><span class="s">"$c"</span>
    <span class="o">}</span>
    
    <span class="nv">str</span><span class="o">.</span><span class="py">flatMap</span> <span class="o">{</span> <span class="n">char</span> <span class="k">=&gt;</span>
      <span class="n">char</span> <span class="k">match</span> <span class="o">{</span>
        <span class="k">case</span> <span class="sc">'_'</span> <span class="k">=&gt;</span> <span class="s">""</span>
        <span class="k">case</span> <span class="n">c</span> <span class="k">=&gt;</span> <span class="n">s</span><span class="s">"c"</span>
      <span class="o">}</span>
    <span class="o">}</span>
</code></pre></div></div>

<p>å…¶å®è¿™ä¸ªflatMapå‡½æ•°çš„è¾“å…¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥æ˜¯Stringç±»å‹ï¼Œè¾“å‡ºæ˜¯ä¸€ä¸ªå­—ç¬¦é›†åˆã€‚å› æ­¤ï¼Œè¿™é‡Œçœå»çš„matchå®é™…ä¸Šæ˜¯å¯¹è¾“å…¥å‚æ•°çš„matchã€‚</p>

<p>å¯¹äºcaseæ¥è¯´ï¼ŒåŒ¹é…åˆ°çš„å¯ä»¥æ˜¯ä¸€ä¸ªå…·ä½“çš„value, æ¯”å¦‚<code class="language-plaintext highlighter-rouge">'_'</code>æ˜¯ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œ<code class="language-plaintext highlighter-rouge">_</code>ä»£è¡¨ä»»ä½•valueã€‚ä¹Ÿå¯ä»¥æ˜¯åŒ¹é…åˆ°ä¸€ä¸ªç±»å‹çš„å®ä¾‹ã€‚ä¾‹å¦‚:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">def</span> <span class="nf">testMatch</span><span class="o">(</span><span class="n">obj</span><span class="k">:</span> <span class="kt">Any</span><span class="o">)</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
    <span class="n">obj</span> <span class="k">match</span> <span class="o">{</span>
      <span class="k">case</span> <span class="n">i</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=&gt;</span> <span class="nf">println</span><span class="o">(</span><span class="s">"Int"</span><span class="o">)</span>
      <span class="k">case</span> <span class="n">b</span><span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=&gt;</span> <span class="nf">println</span><span class="o">(</span><span class="s">"Boolean"</span><span class="o">)</span>
      <span class="k">case</span> <span class="n">str</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=&gt;</span> <span class="nf">println</span><span class="o">(</span><span class="s">"String"</span><span class="o">)</span>
      <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="nf">println</span><span class="o">(</span><span class="s">"Other type"</span><span class="o">)</span>
    <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div></div>

<h4 id="æå–å™¨">æå–å™¨</h4>

<p>æå–å™¨æ˜¯ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„åœºæ™¯ï¼Œå¯¹äºä¸€ä¸ªobjectï¼Œ å¦‚æœåœ¨ matchçš„æ—¶å€™è¿›è¡Œcaseæ“ä½œï¼Œåˆ™ä¼šè°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„<code class="language-plaintext highlighter-rouge">unapply</code>æ–¹æ³•è¿›è¡Œæå–æ“ä½œï¼Œå› ä¸ºæ˜¯æå–ï¼Œæ‰€ä»¥è¿™ä¸ªunapplyæ–¹æ³•ä¹Ÿå¯¹åº”çš„æ˜¯ä¸€ä¸ªmatchæ“ä½œï¼Œè€Œä¸”å¯èƒ½ä¼šæœ‰æå‡ºä¸å‡ºæ¥çš„åœºæ™¯ï¼Œæ‰€ä»¥è¿”å›å‚æ•°ä¸€å®šæ˜¯Optionç±»å‹çš„ï¼Œå› ä¸ºæœ‰æ—¶æå–å¯èƒ½ä¸ºNoneã€‚</p>

<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œè¿™ä¸ªä¾‹å­ä¸­ä½¿ç”¨äº†ä¸€äº›æ ·ä¾‹ç±»ã€‚</p>

<p>æˆ‘ä»¬çœ‹<code class="language-plaintext highlighter-rouge">testClassMatch</code>æ–¹æ³•ï¼Œå‰ä¸¤ä¸ªcaseéƒ½æ˜¯åŒ¹é…åˆ°ä¸€ä¸ªæ ·ä¾‹ç±»çš„valueæ¯”è¾ƒå¥½ç†è§£ï¼Œé‡ç‚¹çœ‹ç¬¬ä¸‰å’Œç¬¬å››ä¸ªcaseã€‚</p>

<p>æˆ‘ä»¬çœ‹åˆ°æœ‰ <code class="language-plaintext highlighter-rouge">case dl @ SpecialTypeThree(ExtractLiteral(l1), ExtractLiteral(l2))</code>çš„æ“ä½œï¼Œè€ŒSpecialTypeThreeæ˜¯ä¸€ä¸ªobjectï¼Œä½œä¸ºæŠ½å–å™¨ï¼Œè¾“å…¥å‚æ•°æ˜¯<code class="language-plaintext highlighter-rouge">AbstractType</code>å®ä¾‹ï¼Œå®ƒçš„unapplyæ–¹æ³•ç”¨äºæŠ½å–å‡ºä¸¤ä¸ªString. è€Œæ­¤å¤„çš„<code class="language-plaintext highlighter-rouge">dl</code>ä»£è¡¨çš„æ˜¯åŒ¹é…åˆ°çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ª<code class="language-plaintext highlighter-rouge">DoubleLiterals</code>å®ä¾‹ã€‚</p>

<p>è€ŒSpecialTypeThreeæŠ½å–å™¨è¿”å›å€¼æ˜¯ä¸¤ä¸ªstringï¼Œè€Œåé¢è·Ÿç€çš„<code class="language-plaintext highlighter-rouge">ExtractLiteral(l1), ExtractLiteral(l2)</code>ä»£è¡¨ï¼Œä¸¤ä¸ªæŠ½å–å™¨å¯¹è¿”å›çš„ä¸¤ä¸ªStringå†åšæ“ä½œï¼Œå¦‚æœä¾ç„¶èƒ½æå–å‡ºéNoneçš„å€¼ï¼Œé‚£ä¹ˆå°±ä»£è¡¨åŒ¹é…æˆåŠŸã€‚å¦åˆ™ï¼Œå¦‚æœåé¢çš„ä¸¤ä¸ªExtractLiteral æœ‰ä¸€ä¸ªè¿”å›Noneï¼Œéƒ½ä¼šä»£è¡¨æ­¤æ¬¡åŒ¹é…å¤±è´¥ã€‚</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">abstract</span> <span class="k">class</span> <span class="nc">AbstractType</span>
  <span class="k">case</span> <span class="k">class</span> <span class="nc">TypeOne</span><span class="o">(</span><span class="n">int</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">AbstractType</span>
  <span class="k">case</span> <span class="k">class</span> <span class="nc">TypeTwo</span><span class="o">(</span><span class="n">bool</span><span class="k">:</span> <span class="kt">Boolean</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">AbstractType</span>

  <span class="k">case</span> <span class="k">class</span> <span class="nc">DoubleLiterals</span><span class="o">(</span><span class="n">lit1</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">lit2</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">AbstractType</span>
  <span class="k">case</span> <span class="k">class</span> <span class="nc">DoubleString</span><span class="o">(</span><span class="n">str1</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">str2</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">AbstractType</span>

	<span class="k">def</span> <span class="nf">testClassMatch</span><span class="o">(</span><span class="n">instance</span><span class="k">:</span> <span class="kt">AbstractType</span><span class="o">)</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span> <span class="k">=</span> <span class="n">instance</span> <span class="k">match</span> <span class="o">{</span>
   	<span class="k">case</span> <span class="nc">TypeOne</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nc">Some</span><span class="o">(</span><span class="s">"int"</span><span class="o">)</span>
    <span class="k">case</span> <span class="nc">TypeTwo</span><span class="o">(</span><span class="n">bool</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nc">Some</span><span class="o">(</span><span class="s">"bool"</span><span class="o">)</span>
    <span class="k">case</span> <span class="n">dl</span> <span class="k">@</span> <span class="nc">SpecialTypeThree</span><span class="o">(</span><span class="nc">ExtractLiteral</span><span class="o">(</span><span class="n">l1</span><span class="o">),</span> <span class="nc">ExtractLiteral</span><span class="o">(</span><span class="n">l2</span><span class="o">))</span> <span class="k">=&gt;</span>
      <span class="nf">assert</span><span class="o">(</span><span class="nv">ss</span><span class="o">.</span><span class="py">isInstanceOf</span><span class="o">[</span><span class="kt">DoubleLiterals</span><span class="o">])</span>
      <span class="nc">Some</span><span class="o">(</span><span class="n">s</span><span class="s">"$l1\t$l2"</span><span class="o">)</span>

    <span class="k">case</span> <span class="n">ds</span> <span class="k">@</span> <span class="nc">SpecialTypeThree</span><span class="o">(</span><span class="nc">ExtractString</span><span class="o">(</span><span class="n">s1</span><span class="o">),</span> <span class="nc">ExtractString</span><span class="o">(</span><span class="n">s2</span><span class="o">))</span> <span class="k">=&gt;</span>
      <span class="nf">assert</span><span class="o">(</span><span class="nv">ds</span><span class="o">.</span><span class="py">isInstanceOf</span><span class="o">[</span><span class="kt">DoubleString</span><span class="o">])</span>
      <span class="nc">Some</span><span class="o">(</span><span class="n">s</span><span class="s">"$s1\t$s2"</span><span class="o">)</span>
    <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="nc">None</span>
  <span class="o">}</span>

  <span class="k">private</span> <span class="k">object</span> <span class="nc">SpecialTypeThree</span> <span class="o">{</span>
    <span class="k">def</span> <span class="nf">unapply</span><span class="o">(</span><span class="n">instance</span><span class="k">:</span> <span class="kt">AbstractType</span><span class="o">)</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[(</span><span class="kt">String</span>, <span class="kt">String</span><span class="o">)]</span> <span class="k">=</span> <span class="n">instance</span> <span class="k">match</span> <span class="o">{</span>
      <span class="k">case</span> <span class="n">dl</span><span class="k">:</span> <span class="kt">DoubleLiterals</span> <span class="o">=&gt;</span>
        <span class="nc">Some</span><span class="o">(</span><span class="nv">dl</span><span class="o">.</span><span class="py">lit1</span><span class="o">,</span> <span class="nv">dl</span><span class="o">.</span><span class="py">lit2</span><span class="o">)</span>
      <span class="k">case</span> <span class="n">ds</span><span class="k">:</span> <span class="kt">DoubleString</span> <span class="o">=&gt;</span>
        <span class="nc">Some</span><span class="o">(</span><span class="nv">ds</span><span class="o">.</span><span class="py">str1</span><span class="o">,</span> <span class="nv">ds</span><span class="o">.</span><span class="py">str2</span><span class="o">)</span>
      <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="nc">None</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="k">private</span> <span class="k">object</span> <span class="nc">ExtractLiteral</span> <span class="o">{</span>
    <span class="k">val</span> <span class="nv">reg</span> <span class="k">=</span> <span class="s">"""([0-9]+)"""</span><span class="o">.</span><span class="py">r</span>
    <span class="k">def</span> <span class="nf">unapply</span><span class="o">(</span><span class="n">arg</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span>
      <span class="n">arg</span> <span class="k">match</span> <span class="o">{</span>
        <span class="k">case</span> <span class="nf">reg</span><span class="o">(</span><span class="n">str</span><span class="o">)</span> <span class="k">=&gt;</span>
          <span class="nf">println</span><span class="o">(</span><span class="s">"extract literal ing!"</span><span class="o">)</span>
          <span class="nc">Some</span><span class="o">(</span><span class="n">str</span><span class="o">)</span>
        <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="nc">None</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
  <span class="k">private</span> <span class="k">object</span> <span class="nc">ExtractString</span>  <span class="o">{</span>
    <span class="k">val</span> <span class="nv">reg</span> <span class="k">=</span> <span class="s">"""([a-zA-Z]+)"""</span><span class="o">.</span><span class="py">r</span>
    <span class="k">def</span> <span class="nf">unapply</span><span class="o">(</span><span class="n">arg</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span>
      <span class="n">arg</span> <span class="k">match</span> <span class="o">{</span>
        <span class="k">case</span> <span class="nf">reg</span><span class="o">(</span><span class="n">str</span><span class="o">)</span> <span class="k">=&gt;</span>
          <span class="nf">println</span><span class="o">(</span><span class="s">"extract string ing!"</span><span class="o">)</span>
          <span class="nc">Some</span><span class="o">(</span><span class="n">str</span><span class="o">)</span>
        <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="nc">None</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div></div>

<h3 id="æ­£åˆ™åŒ¹é…">æ­£åˆ™åŒ¹é…</h3>

<p>scalaä¸­çš„æ­£åˆ™è¡¨è¾¾å¼å†™èµ·æ¥éå¸¸çš„ç®€å•ã€‚</p>

<p>ä¾‹å¦‚<code class="language-plaintext highlighter-rouge">"""([0-9]+)""".r</code>å°±ä»£è¡¨ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨äºåŒ¹é…ä¸€ä¸ªæ•°å­—ã€‚</p>

<h4 id="-ä¸-">â€â€ ä¸ â€œâ€œâ€â€â€œâ€œ</h4>

<p>æ­¤å¤„è®²ä¸€ä¸‹<code class="language-plaintext highlighter-rouge">""</code>å’Œ<code class="language-plaintext highlighter-rouge">""""""</code>çš„åŒºåˆ«ï¼Œåœ¨scalaä¸­ç»å¸¸çœ‹åˆ°ä¸‰å¼•å·ã€‚å…¶å®ä¸‰å¼•å·æœ€å¤§çš„ä½œç”¨å°±æ˜¯å¯ä»¥åœ¨é‡Œé¢ä½¿ç”¨ä¸€äº›éœ€è¦è½¬ä¹‰çš„å­—ç¬¦ï¼Œå¹¶ä¸”æ”¯æŒæ¢è¡Œã€‚</p>

<p>ä¾‹å¦‚</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"""\t"""</span> <span class="c1">// æ‰“å°å‡ºæ¥æ˜¯\tè€Œéåˆ¶è¡¨ç¬¦</span>
<span class="s">"""turbo"fei"""</span> <span class="c1">//å¯åœ¨é‡Œé¢åŠ å¼•å·</span>
<span class="s">"""turbo
fei"""</span> <span class="c1">//å¯ç›´æ¥æ¢è¡Œï¼Œä¸ç”¨ä½¿ç”¨\nè¡¨ç¤ºæ¢è¡Œç¬¦</span>
</code></pre></div></div>

<p>å½“ç„¶å¸¸ç”¨çš„è¿˜æ˜¯ä¸‹é¢çš„æ–¹å¼:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="s">"""turbo
      |fei
    """</span><span class="o">.</span><span class="py">stripMargin</span>
</code></pre></div></div>

<p>è¿™é€šå¸¸æ˜¯æˆ‘ä»¬æ‰“å°å¤šè¡Œä¿¡æ¯çš„æ–¹å¼ï¼Œå®ƒå¯ä»¥ä¼˜é›…çš„æ‰“å°å‡ºä¿¡æ¯ï¼Œè€Œè¿™é‡Œçš„stripMarginæ–¹æ³•æ˜¯æŒ‡å®šæ¯è¡Œå¼€å§‹çš„å­—ç¬¦ï¼Œé»˜è®¤æ˜¯<code class="language-plaintext highlighter-rouge">|</code>ã€‚</p>

<h4 id="regex">Regex</h4>

<p>scalaä¸­çš„æ­£åˆ™ç±»æ˜¯<code class="language-plaintext highlighter-rouge">scala.util.matching.Regex</code>.</p>

<p>åˆ›å»ºRegexæœ‰ä¸¤ç§æ–¹å¼:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">val</span> <span class="nv">reg1</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Regex</span><span class="o">(</span><span class="s">"\\."</span><span class="o">)</span>

<span class="c1">// åé¢æ˜¯ç”¨äºæ³¨é‡Š?</span>
<span class="k">val</span> <span class="nv">reg2</span> <span class="k">=</span> <span class="o">(\</span><span class="n">d</span><span class="o">\</span><span class="n">d</span><span class="o">\</span><span class="n">d</span><span class="o">\</span><span class="n">d</span><span class="o">)-(\</span><span class="n">d</span><span class="o">\</span><span class="n">d</span><span class="o">)-(\</span><span class="n">d</span><span class="o">\</span><span class="n">d</span><span class="o">)</span><span class="s">""".r("year", "month", "date")"""</span>
</code></pre></div></div>

<p>æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ç‰¹æ®Šå­—ç¬¦åœ¨æ­¤å°±ä¸è¯¦ç»†åˆ—äº†ï¼Œè¯·å‚è€ƒå®˜æ–¹æ ‡å‡†ã€‚ä¾‹å¦‚<code class="language-plaintext highlighter-rouge">\d</code>è¡¨ç¤ºæ•°å­—ï¼Œ<code class="language-plaintext highlighter-rouge">.</code>è¡¨ç¤ºä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œ æ‰€ä»¥å¦‚æœéœ€è¦åŒ¹é…<code class="language-plaintext highlighter-rouge">.</code>éœ€è¦è¿›è¡Œè½¬ä¹‰ä½¿ç”¨<code class="language-plaintext highlighter-rouge">\.</code>ã€‚</p>

<p>è€ŒStringé‡Œé¢splitæ–¹å¼ä½¿ç”¨çš„å‚æ•°å…¶å®æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²å½¢å¼ã€‚</p>

<p>ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æŒ‰ç…§<code class="language-plaintext highlighter-rouge">.</code>è¿›è¡Œåˆ†å‰²ï¼Œé‚£ä¹ˆå°±è¦éœ€è¦ä½¿ç”¨<code class="language-plaintext highlighter-rouge">\\.</code> å½“åšæ­£åˆ™ä¼ å…¥ã€‚å¦‚ä¸‹ï¼š</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">str</span><span class="o">.</span><span class="py">split</span><span class="o">(</span><span class="s">"\\."</span><span class="o">)</span>
</code></pre></div></div>

<p>æ‰€ä»¥åœ¨ä½¿ç”¨splitæ–¹æ³•æ—¶ä¸è¦ä»¥ä¸ºè¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„å­—ç¬¦ä¸²ï¼Œå…¶å®è¿™æ˜¯ä¸€ä¸ªtoStringçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</p>

<p>åœ¨scalaä¸­ï¼Œå¸¸å¸¸å°†è¦åŒ¹é…çš„éƒ¨åˆ†ä½¿ç”¨å°æ‹¬å·åŒ…ä½ï¼Œåˆ™ï¼Œå°±å¯ä»¥é…åˆmatchï¼ŒåŒ¹é…å‡ºå¯¹åº”çš„éƒ¨åˆ†ã€‚</p>

<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">val</span> <span class="nv">reg</span> <span class="k">=</span> <span class="s">"""(\d+) \+ (\d+)"""</span><span class="o">.</span><span class="py">r</span><span class="o">(</span><span class="s">"n1"</span><span class="o">,</span> <span class="s">"n2"</span><span class="o">)</span>
    <span class="s">"12 + 23"</span> <span class="k">match</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nf">reg</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nf">println</span><span class="o">(</span><span class="nv">a</span><span class="o">.</span><span class="py">toInt</span> <span class="o">+</span> <span class="nv">b</span><span class="o">.</span><span class="py">toInt</span><span class="o">)</span> <span class="c1">// 35</span>
      <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span>
    <span class="o">}</span>
</code></pre></div></div>
:ET