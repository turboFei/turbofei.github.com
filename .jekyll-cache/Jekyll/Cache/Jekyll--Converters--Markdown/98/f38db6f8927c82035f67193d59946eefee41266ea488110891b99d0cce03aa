I"Î
<p>ç›®å½•</p>

<ul id="markdown-toc">
  <li><a href="#background" id="markdown-toc-background">Background</a></li>
  <li><a href="#åŸºæœ¬æ¦‚å¿µ" id="markdown-toc-åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</a>    <ul>
      <li><a href="#lifecycle" id="markdown-toc-lifecycle">lifecycle</a></li>
      <li><a href="#phase" id="markdown-toc-phase">phase</a></li>
      <li><a href="#goal" id="markdown-toc-goal">goal</a></li>
    </ul>
  </li>
  <li><a href="#ä»€ä¹ˆæ˜¯pom" id="markdown-toc-ä»€ä¹ˆæ˜¯pom">ä»€ä¹ˆæ˜¯pom?</a>    <ul>
      <li><a href="#å¿«é€Ÿå¯Ÿçœ‹" id="markdown-toc-å¿«é€Ÿå¯Ÿçœ‹">å¿«é€Ÿå¯Ÿçœ‹</a></li>
      <li><a href="#åŸºæœ¬å†…å®¹" id="markdown-toc-åŸºæœ¬å†…å®¹">åŸºæœ¬å†…å®¹ï¼š</a></li>
      <li><a href="#pomå…³ç³»" id="markdown-toc-pomå…³ç³»">POMå…³ç³»</a>        <ul>
          <li><a href="#ä¾èµ–" id="markdown-toc-ä¾èµ–">ä¾èµ–</a>            <ul>
              <li><a href="#éå¼€æºåŒ…å¤„ç†" id="markdown-toc-éå¼€æºåŒ…å¤„ç†">éå¼€æºåŒ…å¤„ç†</a></li>
            </ul>
          </li>
          <li><a href="#ç»§æ‰¿" id="markdown-toc-ç»§æ‰¿">ç»§æ‰¿</a></li>
          <li><a href="#åˆæˆ" id="markdown-toc-åˆæˆ">åˆæˆ</a></li>
        </ul>
      </li>
      <li><a href="#buildè®¾ç½®" id="markdown-toc-buildè®¾ç½®">buildè®¾ç½®</a>        <ul>
          <li><a href="#resources" id="markdown-toc-resources">resources</a></li>
          <li><a href="#pluginsé…ç½®" id="markdown-toc-pluginsé…ç½®">pluginsé…ç½®</a></li>
          <li><a href="#pluginmanagementé…ç½®" id="markdown-toc-pluginmanagementé…ç½®">pluginManagementé…ç½®</a></li>
          <li><a href="#extensions" id="markdown-toc-extensions">Extensions</a></li>
          <li><a href="#reporting" id="markdown-toc-reporting">reporting</a></li>
          <li><a href="#maven-shade-plugin" id="markdown-toc-maven-shade-plugin">Maven-shade-plugin</a></li>
        </ul>
      </li>
      <li><a href="#æ›´å¤šé¡¹ç›®ä¿¡æ¯" id="markdown-toc-æ›´å¤šé¡¹ç›®ä¿¡æ¯">æ›´å¤šé¡¹ç›®ä¿¡æ¯</a>        <ul>
          <li><a href="#ç¯å¢ƒè®¾ç½®" id="markdown-toc-ç¯å¢ƒè®¾ç½®">ç¯å¢ƒè®¾ç½®</a>            <ul>
              <li><a href="#issuemanagement" id="markdown-toc-issuemanagement">issueManagement</a></li>
              <li><a href="#repositories" id="markdown-toc-repositories">Repositories</a></li>
              <li><a href="#pluginrepositories" id="markdown-toc-pluginrepositories">pluginRepositories</a></li>
              <li><a href="#distributionmanagement" id="markdown-toc-distributionmanagement">distributionManagement</a></li>
              <li><a href="#profiles" id="markdown-toc-profiles">profiles</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#references" id="markdown-toc-references">References</a></li>
</ul>
<h3 id="background">Background</h3>

<p>å…³äºmavençš„ä½¿ç”¨</p>

<h3 id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</h3>

<p>lifecycle, phase, goal</p>

<p>ä»¥ä¸‹æ˜¯å‚è€ƒ<a href="http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p>

<h4 id="lifecycle">lifecycle</h4>

<p>mavençš„ä¸€ä¸ªä¸­å¿ƒæ¦‚å¿µå°±æ˜¯build lifecycle, ä¹Ÿå°±æ˜¯è¯´buildä»¥åŠå‘å¸ƒä¸€ä¸ªprojectçš„è¿‡ç¨‹æ˜¯æ˜ç¡®å®šä¹‰å¥½çš„ã€‚å¯¹äºbuild ä¸€ä¸ªprojectçš„äººæ¥è¯´ï¼Œè¿™æ„å‘³ç€åªéœ€è¦äº†è§£ä¸å¤šçš„mavenå‘½ä»¤å°±å¯ä»¥ç¼–è¯‘ä»»ä½•mavené¡¹ç›®ï¼Œè€Œä¸”POMå¯ä»¥ä¿è¯å®ƒå¾—åˆ°æƒ³è¦çš„ç»“æœã€‚</p>

<p>æœ‰ä¸‰ä¸ªå†…ç½®çš„build lifecycle: default, clean å’Œsite.</p>

<p>default å‘å¸ƒé¡¹ç›®ï¼Œcleanæ¸…ç©ºç¼–è¯‘ï¼Œsiteåˆ›å»ºsiteæ–‡æ¡£.</p>

<h4 id="phase">phase</h4>

<p>ä¸€ä¸ªbuild lifecæ˜¯ç”±ä¸€ç³»åˆ—phaseç»„æˆï¼Œæ¯ä¸ªphaseä»£è¡¨build lifecycleçš„ä¸€ä¸ªé˜¶æ®µã€‚</p>

<p>ä¾‹å¦‚: default lifecycleç”±ä¸‹åˆ—phaseç»„æˆ.</p>

<ul>
  <li>validate: ç¡®å®šé¡¹ç›®æ˜¯æ­£ç¡®çš„ï¼Œä¸”éœ€è¦çš„informationéƒ½æ˜¯available</li>
  <li>compile: ç¼–è¯‘</li>
  <li>testï¼š å•å…ƒæµ‹è¯•ï¼Œä¸éœ€è¦æ‰“åŒ…</li>
  <li>package: æ‰“åŒ…ä¸ºå¯å‘å¸ƒç‰ˆæœ¬ï¼Œä¾‹å¦‚jar</li>
  <li>verify:  run any checks on results of integration tests to ensure quality criteria are metã€‚åº”è¯¥æ˜¯ç¡®ä¿åŒ…å¯ç”¨.</li>
  <li>install: åœ¨æœ¬åœ°åº“å®‰è£…ï¼Œç”¨æ¥ä½œä¸ºæœ¬åœ°é¡¹ç›®çš„ä¾èµ–</li>
  <li>deploy: ç¼–è¯‘ç¯å¢ƒä¸­å®Œæˆï¼Œå°†åŒ…æ‹·è´è‡³è¿œç«¯åº“ï¼Œç”¨æ¥åˆ†äº«ç»™å…¶ä»–developerså’Œprojects</li>
</ul>

<p>æ‰€ä»¥åªéœ€è¦ mvn install å°±å¯ä»¥ä»validateä¸€ç›´æ‰§è¡Œåˆ°installï¼Œå› æ­¤ä½¿ç”¨mvnå‘½ä»¤åªéœ€è¦æŒ‡å®šæœ€åä¸€ä¸ªphaseï¼Œå‰é¢çš„phaseä¸ç”¨æŒ‡å®š.</p>

<p>åœ¨ç¼–è¯‘ç¯å¢ƒä¸­ï¼Œä½¿ç”¨clean å¯ä»¥æ¸…é™¤æ‰å‰é¢ç¼–è¯‘çš„classesã€‚ å¸¸ç”¨ä¸‹é¢å‘½ä»¤è¿›è¡Œæ‰“åŒ…ã€‚</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn clean package
</code></pre></div></div>

<h4 id="goal">goal</h4>

<p>å‰é¢è¯´äº†lifecycleæ˜¯ç”±å¤šä¸ªphaseç»„æˆï¼Œè€Œæ¯ä¸ªphaseåˆåŒ…å«äº†å¤šä¸ªgoalã€‚</p>

<p>æ¯ä¸ªpluginçš„goaléƒ½æ˜¯ä¸€ä¸ªæŒ‡å®šçš„ä»»åŠ¡ï¼Œä¸€ä¸ªgoalå¯ä»¥ç»‘å®šè‡³0ä¸ªæˆ–è€…å¤šä¸ªgoalã€‚å¦‚æœä¸€ä¸ªgoalæ²¡æœ‰æŒ‡å®šphaseï¼Œé‚£ä¹ˆå¯ä»¥åœ¨buildçš„lifecycleä¹‹å¤–è¿›è¡Œæ˜¾ç¤ºæŒ‡å®š.</p>

<p>æ‰§è¡Œçš„é¡ºåºç”±è°ƒç”¨é¡ºåºå†³å®šã€‚ä¾‹å¦‚,ä¸‹é¢çš„è¿™ä¸ªå‘½ä»¤, cleanå’Œpackageå±äºç¼–è¯‘phasesï¼Œè€Œdependency:copy-dependenciesæ˜¯ä¸€ä¸ªgoal(å±äºmaven-dependency-plugin)ã€‚</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn clean dependency:copy-dependencies package
</code></pre></div></div>

<p>è¿™æ¡å‘½ä»¤clean ä¼šæœ€ä¸‹æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´å…ˆè¿è¡Œclean lifecycle,ç„¶åè¿è¡Œ dependency:copy-dependencies, æœ€åè¿›è¡Œpackage(åŒ…æ‹¬packageä¹‹å‰çš„phases).</p>

<p>å¦‚æœä¸€ä¸ªgoalè¢«ç»‘å®šè‡³å¤šä¸ªphaseï¼Œé‚£ä¹ˆæ¯ä¸ªphaseéƒ½ä¼šå»æ‰§è¡Œè¿™ä¸ªgoal.</p>

<p>å¦‚æœä¸€ä¸ªphaseä¸­æ²¡æœ‰goalï¼Œé‚£ä¹ˆé‚£ä¸ªphaseä¸åšä»»ä½•æ‰§è¡Œï¼Œä½†å¦‚ä½•ä¸€ä¸ªphaseæœ‰å¤šä¸ªgoalï¼Œåˆ™ä¼šæ‰§è¡Œæ‰€æœ‰çš„goalsã€‚</p>

<p><strong>æœ‰ä¸€äº›phaseé€šå¸¸ä¸åœ¨å‘½ä»¤è¡Œä¸­è¢«ä½¿ç”¨</strong></p>

<p>ä¸€äº›å¸¦å‰ç¼€(pre-*ï¼Œ post-*, process-*)çš„å‘½ä»¤é€šå¸¸ä¸è¢«ç›´æ¥ä½¿ç”¨ã€‚</p>

<p>å…¶ä»–æ–‡æ¡£å¤ªé•¿ï¼Œä»¥åç”¨åˆ°å†çœ‹,<a href="http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p>

<h3 id="ä»€ä¹ˆæ˜¯pom">ä»€ä¹ˆæ˜¯pom?</h3>

<p>POM(Project Object Model)ä½œä¸ºé¡¹ç›®å¯¹è±¡æ¨¡å‹ã€‚é€šè¿‡xmlè¡¨ç¤ºmavené¡¹ç›®ï¼Œä½¿ç”¨pom.xmlæ¥å®ç°ã€‚ä¸»è¦æè¿°äº†é¡¹ç›®ï¼šåŒ…æ‹¬é…ç½®æ–‡ä»¶ï¼›å¼€å‘è€…éœ€è¦éµå¾ªçš„è§„åˆ™ï¼Œç¼ºé™·ç®¡ç†ç³»ç»Ÿï¼Œç»„ç»‡å’Œlicensesï¼Œé¡¹ç›®çš„urlï¼Œé¡¹ç›®çš„ä¾èµ–æ€§ï¼Œä»¥åŠå…¶ä»–æ‰€æœ‰çš„é¡¹ç›®ç›¸å…³å› ç´ ã€‚</p>

<h4 id="å¿«é€Ÿå¯Ÿçœ‹">å¿«é€Ÿå¯Ÿçœ‹</h4>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;project&gt;</span>
Â  <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
<span class="c">&lt;!--maven2.0å¿…é¡»æ˜¯è¿™æ ·å†™ï¼Œç°åœ¨æ˜¯maven2å”¯ä¸€æ”¯æŒçš„ç‰ˆæœ¬--&gt;</span>
Â  <span class="c">&lt;!-- åŸºç¡€è®¾ç½® --&gt;</span>
Â  <span class="nt">&lt;groupId&gt;</span>...<span class="nt">&lt;/groupId&gt;</span>
Â  <span class="nt">&lt;artifactId&gt;</span>...<span class="nt">&lt;/artifactId&gt;</span>
Â  <span class="nt">&lt;version&gt;</span>...<span class="nt">&lt;/version&gt;</span>
Â  <span class="nt">&lt;packaging&gt;</span>...<span class="nt">&lt;/packaging&gt;</span>

  <span class="nt">&lt;name&gt;</span>...<span class="nt">&lt;/name&gt;</span>

Â Â <span class="nt">&lt;url&gt;</span>...<span class="nt">&lt;/url&gt;</span>
Â  <span class="nt">&lt;dependencies&gt;</span>...<span class="nt">&lt;/dependencies&gt;</span>
Â  <span class="nt">&lt;parent&gt;</span>...<span class="nt">&lt;/parent&gt;</span>
Â  <span class="nt">&lt;dependencyManagement&gt;</span>...<span class="nt">&lt;/dependencyManagement&gt;</span>
Â  <span class="nt">&lt;modules&gt;</span>...<span class="nt">&lt;/modules&gt;</span>
Â  <span class="nt">&lt;properties&gt;</span>...<span class="nt">&lt;/properties&gt;</span>

Â  <span class="c">&lt;!--æ„å»ºè®¾ç½® --&gt;</span>
Â  <span class="nt">&lt;build&gt;</span>...<span class="nt">&lt;/build&gt;</span>
Â  <span class="nt">&lt;reporting&gt;</span>...<span class="nt">&lt;/reporting&gt;</span>

Â  <span class="c">&lt;!-- æ›´å¤šé¡¹ç›®ä¿¡æ¯ --&gt;</span>
Â  <span class="nt">&lt;name&gt;</span>...<span class="nt">&lt;/name&gt;</span>
Â  <span class="nt">&lt;description&gt;</span>...<span class="nt">&lt;/description&gt;</span>
Â  <span class="nt">&lt;url&gt;</span>...<span class="nt">&lt;/url&gt;</span>
Â  <span class="nt">&lt;inceptionYear&gt;</span>...<span class="nt">&lt;/inceptionYear&gt;</span>
Â  <span class="nt">&lt;licenses&gt;</span>...<span class="nt">&lt;/licenses&gt;</span>
Â  <span class="nt">&lt;organization&gt;</span>...<span class="nt">&lt;/organization&gt;</span>
Â  <span class="nt">&lt;developers&gt;</span>...<span class="nt">&lt;/developers&gt;</span>
Â  <span class="nt">&lt;contributors&gt;</span>...<span class="nt">&lt;/contributors&gt;</span>

Â  <span class="c">&lt;!-- ç¯å¢ƒè®¾ç½®--&gt;</span>
Â  <span class="nt">&lt;issueManagement&gt;</span>...<span class="nt">&lt;/issueManagement&gt;</span>
Â  <span class="nt">&lt;ciManagement&gt;</span>...<span class="nt">&lt;/ciManagement&gt;</span>
Â  <span class="nt">&lt;mailingLists&gt;</span>...<span class="nt">&lt;/mailingLists&gt;</span>Â 
Â  <span class="nt">&lt;scm&gt;</span>...<span class="nt">&lt;/scm&gt;</span>
Â  <span class="nt">&lt;prerequisites&gt;</span>...<span class="nt">&lt;/prerequisites&gt;</span>
Â  <span class="nt">&lt;repositories&gt;</span>...<span class="nt">&lt;/repositories&gt;</span>
Â  <span class="nt">&lt;pluginRepositories&gt;</span>...<span class="nt">&lt;/pluginRepositories&gt;</span>
Â  <span class="nt">&lt;distributionManagement&gt;</span>...<span class="nt">&lt;/distributionManagement&gt;</span>
Â  <span class="nt">&lt;profiles&gt;</span>...<span class="nt">&lt;/profiles&gt;</span>
<span class="nt">&lt;/project&gt;</span>
</code></pre></div></div>

<h4 id="åŸºæœ¬å†…å®¹">åŸºæœ¬å†…å®¹ï¼š</h4>

<p>POMåŒ…æ‹¬äº†æ‰€æœ‰çš„é¡¹ç›®ä¿¡æ¯</p>

<p>groupId:é¡¹ç›®æˆ–è€…ç»„ç»‡çš„å”¯ä¸€æ ‡å¿—ï¼Œå¹¶ä¸”é…ç½®æ—¶ç”Ÿæˆè·¯å¾„ä¹Ÿæ˜¯ç”±æ­¤ç”Ÿæˆï¼Œå¦‚org.myproject.mojoç”Ÿæˆçš„ç›¸å¯¹è·¯å¾„ä¸ºï¼š/org/myproject/mojo</p>

<p>artifactId:é¡¹ç›®çš„é€šç”¨åç§°</p>

<p>version:é¡¹ç›®çš„ç‰ˆæœ¬</p>

<p>packaging:æ‰“åŒ…æœºåˆ¶ï¼Œå¦‚pom,jar,maven-plugin,ejb,war,ear,rar,par</p>

<p>name:ç”¨æˆ·æè¿°é¡¹ç›®çš„åç§°ï¼Œæ— å…³ç´§è¦çš„ä¸œè¥¿ï¼Œå¯é€‰</p>

<p>url:åº”è¯¥æ˜¯åªæ˜¯å†™æ˜å¼€å‘å›¢é˜Ÿçš„ç½‘ç«™ï¼Œæ— å…³ç´§è¦ï¼Œå¯é€‰</p>

<p>classifer:åˆ†ç±»</p>

<p>å…¶ä¸­groupId,artifactId,version,packagingè¿™å››é¡¹ç»„æˆäº†é¡¹ç›®çš„å”¯ä¸€åæ ‡ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå‰é¢ä¸‰é¡¹(<strong>groupId:artifactId:version</strong>)å°±å¯ä»¥ç»„æˆé¡¹ç›®çš„å”¯ä¸€åæ ‡äº†ã€‚</p>

<h4 id="pomå…³ç³»">POMå…³ç³»</h4>

<p>POMå…³ç³»ï¼šä¸»è¦ä¸ºä¾èµ–ï¼Œç»§æ‰¿ï¼Œåˆæˆ</p>

<h5 id="ä¾èµ–">ä¾èµ–</h5>

<p>ä¾èµ–ä¸ä»…æ˜¯dependenciesçš„ä¾èµ–ï¼Œä¹ŸåŒ…æ‹¬pluginsçš„ä¾èµ–ç­‰ç­‰.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependencies&gt;</span>
Â Â Â  <span class="nt">&lt;dependency&gt;</span>
Â Â Â Â Â  <span class="nt">&lt;groupId&gt;</span>junit<span class="nt">&lt;/groupId&gt;</span>
Â Â Â Â Â  <span class="nt">&lt;artifactId&gt;</span>junit<span class="nt">&lt;/artifactId&gt;</span>
Â Â Â Â Â  <span class="nt">&lt;version&gt;</span>4.0<span class="nt">&lt;/version&gt;</span>
Â Â Â Â Â  <span class="nt">&lt;type&gt;</span>jar<span class="nt">&lt;/type&gt;</span>
Â Â Â Â Â  <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
Â Â Â Â Â  <span class="nt">&lt;optional&gt;</span>true<span class="nt">&lt;/optional&gt;</span>
Â Â Â  <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>com.alibaba.china.shared<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>alibaba.apollo.webx<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>2.5.0<span class="nt">&lt;/version&gt;</span>
				<span class="c">&lt;!-- è¿™é‡Œç”¨äºæ’é™¤æ‰ä¸€äº›ä¾èµ–jarï¼Œé¿å…ä¸€äº›jaråŒ…å†²çª --&gt;</span>
        <span class="nt">&lt;exclusions&gt;</span>
          <span class="nt">&lt;exclusion&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>org.slf4j.slf4j-api<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>com.alibaba.external<span class="nt">&lt;/groupId&gt;</span>
          <span class="nt">&lt;/exclusion&gt;</span>
          ....
        <span class="nt">&lt;/exclusions&gt;</span>
......
<span class="nt">&lt;/dependencies&gt;</span>
</code></pre></div></div>

<p>å…¶ä¸­groupId, artifactId, versionè¿™ä¸‰ä¸ªç»„åˆæ ‡ç¤ºä¾èµ–çš„å…·ä½“å·¥ç¨‹ï¼Œè€Œä¸” è¿™ä¸ªä¾èµ–å·¥ç¨‹å¿…éœ€æ˜¯mavenä¸­å¿ƒåŒ…ç®¡ç†èŒƒå›´å†…çš„ï¼Œå¦‚æœç¢°ä¸Šéå¼€æºåŒ…ï¼Œmavenæ”¯æŒä¸äº†è¿™ä¸ªåŒ…ï¼Œé‚£ä¹ˆåˆ™æœ‰æœ‰ä¸‰ç§ æ–¹æ³•å¤„ç†ï¼š</p>

<h6 id="éå¼€æºåŒ…å¤„ç†">éå¼€æºåŒ…å¤„ç†</h6>

<p>1.æœ¬åœ°å®‰è£…è¿™ä¸ªæ’ä»¶install plugin</p>

<p>ä¾‹å¦‚ï¼šmvn install:intall-file -Dfile=non-maven-proj.jar -DgroupId=som.group -DartifactId=non-maven-proj -Dversion=1</p>

<p>2.åˆ›å»ºè‡ªå·±çš„repositorieså¹¶ä¸”éƒ¨ç½²è¿™ä¸ªåŒ…ï¼Œä½¿ç”¨ç±»ä¼¼ä¸Šé¢çš„deploy:deploy-fileå‘½ä»¤ï¼Œ</p>

<p>3.è®¾ç½®scopeä¸ºsystem,å¹¶ä¸”æŒ‡å®šç³»ç»Ÿè·¯å¾„ã€‚</p>

<p>dependencyé‡Œå±æ€§ä»‹ç»ï¼š</p>

<p><strong>type</strong>ï¼šé»˜è®¤ä¸ºjarç±»å‹ï¼Œå¸¸ç”¨çš„ç±»å‹æœ‰ï¼šjar,ejb-client,test-jarâ€¦,å¯è®¾ç½®pluginsä¸­çš„extensionså€¼ä¸ºtrueååœ¨å¢åŠ  æ–°çš„ç±»å‹ï¼Œ</p>

<p><strong>scope</strong>ï¼šæ˜¯ç”¨æ¥æŒ‡å®šå½“å‰åŒ…çš„ä¾èµ–èŒƒå›´</p>

<ul>
  <li>compile ä¾èµ–æ‰“å…¥åŒ…</li>
  <li>provided æ¬¡ä¹‹ï¼Œé™¤äº†æœ€åä¸æ‰“å…¥åŒ…</li>
  <li>runtimeï¼Œåªåœ¨è¿è¡Œå’Œæµ‹è¯•æ—¶ä½¿ç”¨è¿™äº›ä¾èµ–</li>
  <li>test åªåœ¨æµ‹è¯•æ—¶ä½¿ç”¨è¿™äº›ä¾èµ–</li>
  <li>system æ‰‹åŠ¨æŒ‡å®šçš„æœ¬åœ°ä¾èµ–</li>
</ul>

<h5 id="ç»§æ‰¿">ç»§æ‰¿</h5>

<p>å­æ¨¡å—çš„pomç»§æ‰¿çˆ¶æ¨¡å—çš„POM.</p>

<p>å¦‚æœä¸€ä¸ªå·¥ç¨‹æ˜¯parentæˆ–è€…aggregationï¼ˆå³mutil-moduleçš„ï¼‰çš„ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨packingèµ‹å€¼ä¸ºpom,childå·¥ç¨‹ä»<strong>parentç»§æ‰¿</strong>çš„åŒ…æ‹¬ï¼šdependencies,developers,contributors,plugin lists,reports lists,plugin execution with matching ids,plugin configuration</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;parent&gt;</span>Â 
Â Â Â  <span class="nt">&lt;groupId&gt;</span>org.codehaus.mojo<span class="nt">&lt;/groupId&gt;</span>Â 
Â Â Â  <span class="nt">&lt;artifactId&gt;</span>my-parent<span class="nt">&lt;/artifactId&gt;</span>Â 
Â Â Â  <span class="nt">&lt;version&gt;</span>2.0<span class="nt">&lt;/version&gt;</span>Â 
Â Â Â  <span class="nt">&lt;relativePath&gt;</span>../my-parent<span class="nt">&lt;/relativePath&gt;</span>Â 
Â  <span class="nt">&lt;/parent&gt;</span>
</code></pre></div></div>

<p>ä¸ªäººè®¤ä¸ºç»§æ‰¿è¿˜åŒ…æ‹¬ä¸€äº›ä¾èµ–è¢«ç»§æ‰¿ã€‚</p>

<p><strong>optional</strong>:è®¾ç½®æŒ‡ä¾èµ–æ˜¯å¦å¯é€‰ï¼Œé»˜è®¤ä¸ºfalse,å³å­é¡¹ç›®é»˜è®¤éƒ½<strong>ç»§æ‰¿</strong>ï¼Œä¸ºtrue,åˆ™å­é¡¹ç›®å¿…éœ€æ˜¾ç¤ºçš„å¼•å…¥ï¼Œä¸dependencyManagementé‡Œå®šä¹‰çš„ä¾èµ–ç±»ä¼¼ ã€‚</p>

<p><strong>exclusions</strong>ï¼šå¦‚æœXéœ€è¦A,AåŒ…å«Bä¾èµ–ï¼Œé‚£ä¹ˆXå¯ä»¥å£°æ˜ä¸è¦Bä¾èµ–ï¼Œåªè¦åœ¨exclusionsä¸­å£°æ˜exclusion.</p>

<p><strong>exclusion</strong>:æ˜¯å°†Bä»ä¾èµ–æ ‘ä¸­åˆ é™¤ï¼Œå¦‚ä¸Šé…ç½®ï¼Œalibaba.apollo.webxä¸æƒ³ä½¿ç”¨com.alibaba.external  ,ä½†æ˜¯alibaba.apollo.webxæ˜¯é›†æˆäº†com.alibaba.external,ræ‰€ä»¥å°±éœ€è¦æ’é™¤æ‰.</p>

<p>relativePathæ˜¯å¯é€‰çš„,mavenä¼šé¦–å…ˆæœç´¢è¿™ä¸ªåœ°å€,åœ¨æœç´¢æœ¬åœ°è¿œç¨‹repositoriesä¹‹å‰.</p>

<p><strong>dependencyManagement</strong>ï¼šæ˜¯ç”¨äºå¸®åŠ©ç®¡ç†chidrençš„dependenciesçš„ã€‚ä¾‹å¦‚å¦‚æœparentä½¿ç”¨dependencyManagementå®šä¹‰äº†ä¸€ä¸ªdependencyon junit:junit4.0,é‚£ä¹ˆ å®ƒçš„childrenå°±å¯ä»¥åªå¼•ç”¨ groupIdå’ŒartifactId,è€Œversionå°±å¯ä»¥é€šè¿‡parentæ¥è®¾ç½®ï¼Œè¿™æ ·çš„å¥½å¤„å°±æ˜¯å¯ä»¥é›†ä¸­ç®¡ç† ä¾èµ–çš„è¯¦æƒ…</p>

<h5 id="åˆæˆ">åˆæˆ</h5>

<p>å¯¹äºå¤šæ¨¡å—çš„project,outer-moduleæ²¡æœ‰å¿…éœ€è€ƒè™‘inner-moduleçš„dependencies,å½“åˆ—å‡ºmodulesçš„æ—¶å€™ï¼Œmodulesçš„é¡ºåºæ˜¯ä¸é‡è¦çš„ï¼Œå› ä¸ºmavenä¼šè‡ªåŠ¨æ ¹æ®ä¾èµ–å…³ç³»æ¥æ‹“æ‰‘æ’åºï¼Œ</p>

<p>modulesä¾‹å­å¦‚ä¸‹ ï¼š</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;module&gt;</span>my-project<span class="nt">&lt;/module&gt;</span>
<span class="nt">&lt;module&gt;</span>other-project<span class="nt">&lt;/module&gt;</span>
</code></pre></div></div>

<p><strong>properties</strong>:æ˜¯ä¸ºpomå®šä¹‰ä¸€äº›å¸¸é‡ï¼Œåœ¨pomä¸­çš„å…¶å®ƒåœ°æ–¹å¯ä»¥ç›´æ¥å¼•ç”¨ã€‚</p>

<p>å®šä¹‰æ–¹å¼å¦‚ä¸‹ï¼š</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;properties&gt;</span>
      <span class="nt">&lt;file.encoding&gt;</span>UTF-8<span class="nt">&lt;/file_encoding&gt;</span>
      <span class="nt">&lt;java.source.version&gt;</span>1.5<span class="nt">&lt;/java_source_version&gt;</span>
      <span class="nt">&lt;java.target.version&gt;</span>1.5<span class="nt">&lt;/java_target_version&gt;</span>
<span class="nt">&lt;/properties&gt;</span>
</code></pre></div></div>
<p>ä½¿ç”¨æ–¹å¼ å¦‚ä¸‹ ï¼š</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>${file.encoding}
</code></pre></div></div>

<p>è¿˜å¯ä»¥ä½¿ç”¨project.xxå¼•ç”¨pomé‡Œå®šä¹‰çš„å…¶å®ƒå±æ€§ï¼šå¦‚$(project.version}</p>

<h4 id="buildè®¾ç½®">buildè®¾ç½®</h4>

<p><strong>defaultGoal</strong>:é»˜è®¤çš„ç›®æ ‡ï¼Œå¿…é¡»è·Ÿå‘½ä»¤è¡Œä¸Šçš„å‚æ•°ç›¸åŒï¼Œå¦‚ï¼šjar:jar,æˆ–è€…ä¸phaseç›¸åŒ,ä¾‹å¦‚install</p>

<p><strong>directory</strong>:æŒ‡å®šbuild targetç›®æ ‡çš„ç›®å½•ï¼Œé»˜è®¤ä¸º$(basedir}/target,å³é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„target</p>

<p><strong>finalName</strong>:æŒ‡å®šå»æ‰åç¼€çš„å·¥ç¨‹åå­—ï¼Œä¾‹å¦‚ï¼šé»˜è®¤ä¸º${artifactId}-${version}</p>

<p><strong>filters</strong>:ç”¨äºå®šä¹‰æŒ‡å®šfilterå±æ€§çš„ä½ç½®ï¼Œä¾‹å¦‚filterå…ƒç´ èµ‹å€¼filters/filter1.properties,é‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶é‡Œé¢å°±å¯ä»¥å®šä¹‰name=valueå¯¹ï¼Œè¿™ä¸ªname=valueå¯¹çš„å€¼å°±å¯ä»¥åœ¨å·¥ç¨‹pomä¸­é€šè¿‡${name}å¼•ç”¨ï¼Œé»˜è®¤çš„filterç›®å½•æ˜¯${basedir}/src/main/fiters/</p>

<h5 id="resources">resources</h5>

<p>æ„å»ºMavené¡¹ç›®çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰è¿›è¡Œç‰¹æ®Šçš„é…ç½®ï¼ŒMavenä¼šæŒ‰ç…§æ ‡å‡†çš„ç›®å½•ç»“æ„æŸ¥æ‰¾å’Œå¤„ç†å„ç§ç±»å‹æ–‡ä»¶ã€‚</p>

<blockquote>
  <p><strong>src/main/javaå’Œsrc/test/java</strong></p>

  <p>è¿™ä¸¤ä¸ªç›®å½•ä¸­çš„æ‰€æœ‰*.javaæ–‡ä»¶ä¼šåˆ†åˆ«åœ¨comileå’Œtest-comipleé˜¶æ®µè¢«ç¼–è¯‘ï¼Œç¼–è¯‘ç»“æœåˆ†åˆ«æ”¾åˆ°äº†target/classeså’Œtarge/test-classesç›®å½•ä¸­ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªç›®å½•ä¸­çš„å…¶ä»–æ–‡ä»¶éƒ½ä¼šè¢«å¿½ç•¥æ‰ã€‚</p>

  <p><strong>src/main/resouceså’Œsrc/test/resources</strong></p>

  <p>è¿™ä¸¤ä¸ªç›®å½•ä¸­çš„æ–‡ä»¶ä¹Ÿä¼šåˆ†åˆ«è¢«å¤åˆ¶åˆ°target/classeså’Œtarget/test-classesç›®å½•ä¸­ã€‚</p>

  <p><strong>target/classes</strong></p>

  <p>æ‰“åŒ…æ’ä»¶é»˜è®¤ä¼šæŠŠè¿™ä¸ªç›®å½•ä¸­çš„æ‰€æœ‰å†…å®¹æ‰“å…¥åˆ°jaråŒ…æˆ–è€…waråŒ…ä¸­ã€‚</p>

  <p>mavené¡¹ç›®çš„ç»“æ„ä¸€èˆ¬å¦‚ä¸‹:</p>

  <ul>
    <li>src
      <ul>
        <li>main
          <ul>
            <li><strong>java</strong>         æºæ–‡ä»¶</li>
            <li><strong>resources</strong>    èµ„æºæ–‡ä»¶</li>
            <li>filters   èµ„æºè¿‡æ»¤æ–‡ä»¶</li>
            <li>config   é…ç½®æ–‡ä»¶</li>
            <li>scripts   è„šæœ¬æ–‡ä»¶</li>
            <li>webapp   webåº”ç”¨æ–‡ä»¶</li>
          </ul>
        </li>
        <li>test
          <ul>
            <li><strong>java</strong>    æµ‹è¯•æºæ–‡ä»¶</li>
            <li>resources    æµ‹è¯•èµ„æºæ–‡ä»¶</li>
            <li>filters    æµ‹è¯•èµ„æºè¿‡æ»¤æ–‡ä»¶</li>
          </ul>
        </li>
        <li>it       é›†æˆæµ‹è¯•</li>
        <li>assembly    assembly descriptors</li>
        <li>site    Site</li>
      </ul>
    </li>
    <li>target
      <ul>
        <li>generated-sources</li>
        <li>classes</li>
        <li>generated-test-sources</li>
        <li>test-classes</li>
        <li>xxx.jar</li>
      </ul>
    </li>
    <li><strong>pom.xml</strong></li>
    <li>LICENSE.txt</li>
    <li>NOTICE.txt</li>
    <li>README.txt</li>
  </ul>
</blockquote>

<p><code class="highlighter-rouge">resources</code>æ ‡ç­¾ç”¨äºæè¿°å·¥ç¨‹ä¸­èµ„æºçš„ä½ç½®.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>			<span class="nt">&lt;resource&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;targetPath&gt;</span>META-INF/plexus<span class="nt">&lt;/targetPath&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;filtering&gt;</span>false<span class="nt">&lt;/filtering&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;directory&gt;</span>${basedir}/src/main/plexus<span class="nt">&lt;/directory&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;includes&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;include&gt;</span>configuration.xml<span class="nt">&lt;/include&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;/includes&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;excludes&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;exclude&gt;</span>**/*.properties<span class="nt">&lt;/exclude&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;/excludes&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;/resource&gt;</span>
</code></pre></div></div>

<p><strong>targetPath</strong>:æŒ‡å®šbuildèµ„æºåˆ°å“ªä¸ªç›®å½•ï¼Œé»˜è®¤æ˜¯base directory</p>

<p><strong>filtering</strong>:æŒ‡å®šæ˜¯å¦å°†filteræ–‡ä»¶(å³ä¸Šé¢è¯´çš„filtersé‡Œå®šä¹‰çš„*.propertyæ–‡ä»¶)çš„å˜é‡å€¼åœ¨è¿™ä¸ªresourceæ–‡ä»¶æœ‰æ•ˆ,ä¾‹å¦‚ä¸Šé¢å°±æŒ‡å®šé‚£äº›å˜é‡å€¼åœ¨configurationæ–‡ä»¶æ— æ•ˆã€‚</p>

<p><strong>directory</strong>:æŒ‡å®šå±æ€§æ–‡ä»¶çš„ç›®å½•ï¼Œbuildçš„è¿‡ç¨‹éœ€è¦æ‰¾åˆ°å®ƒï¼Œå¹¶ä¸”å°†å…¶æ”¾åˆ°targetPathä¸‹ï¼Œé»˜è®¤çš„directoryæ˜¯${basedir}/src/main/resources</p>

<p><strong>includes</strong>:æŒ‡å®šåŒ…å«æ–‡ä»¶çš„patterns,ç¬¦åˆæ ·å¼å¹¶ä¸”åœ¨directoryç›®å½•ä¸‹çš„æ–‡ä»¶å°†ä¼šåŒ…å«è¿›projectçš„èµ„æºæ–‡ä»¶ã€‚</p>

<p><strong>excludes</strong>:æŒ‡å®šä¸åŒ…å«åœ¨å†…çš„patterns,å¦‚æœincluesä¸excludesæœ‰å†²çªï¼Œé‚£ä¹ˆexcludesèƒœåˆ©ï¼Œé‚£äº›ç¬¦åˆå†²çªçš„æ ·å¼çš„æ–‡ä»¶æ˜¯ä¸ä¼šåŒ…å«è¿›æ¥çš„ã€‚</p>

<p><strong>testResources</strong>:è¿™ä¸ªæ¨¡å—åŒ…å«æµ‹è¯•èµ„æºå…ƒç´ ï¼Œå…¶å†…å®¹å®šä¹‰ä¸resourcesç±»ä¼¼ï¼Œä¸åŒçš„ä¸€ç‚¹æ˜¯é»˜è®¤çš„æµ‹è¯•èµ„æºè·¯å¾„æ˜¯${basedir}/src/test/resources,æµ‹è¯•èµ„æºæ˜¯ä¸éƒ¨ç½²çš„ã€‚</p>

<h5 id="pluginsé…ç½®">pluginsé…ç½®</h5>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>			<span class="nt">&lt;plugin&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;artifactId&gt;</span>maven-jar-plugin<span class="nt">&lt;/artifactId&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;version&gt;</span>2.0<span class="nt">&lt;/version&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;extensions&gt;</span>false<span class="nt">&lt;/extensions&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;inherited&gt;</span>true<span class="nt">&lt;/inherited&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;configuration&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;classifier&gt;</span>test<span class="nt">&lt;/classifier&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;/configuration&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;dependencies&gt;</span>...<span class="nt">&lt;/dependencies&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;executions&gt;</span>...<span class="nt">&lt;/executions&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;/plugin&gt;</span>
</code></pre></div></div>
<p><strong>extensions</strong>:true or false, å†³å®šæ˜¯å¦è¦loadè¿™ä¸ªpluginçš„extensionsï¼Œé»˜è®¤ä¸ºtrue.</p>

<p><strong>inherited</strong>:æ˜¯å¦è®©å­pomç»§æ‰¿ï¼Œture or false é»˜è®¤ä¸ºtrue.</p>

<p><strong>configuration</strong>:é€šå¸¸ç”¨äºç§æœ‰ä¸å¼€æºçš„plugin,ä¸èƒ½å¤Ÿè¯¦ç»†äº†è§£pluginçš„å†…éƒ¨å·¥ä½œåŸç†ï¼Œä½†ä½¿pluginæ»¡è¶³çš„properties</p>

<p><strong>dependencies</strong>:ä¸pomåŸºç¡€çš„dependenciesçš„ç»“æ„å’ŒåŠŸèƒ½éƒ½ç›¸åŒï¼Œåªæ˜¯pluginçš„dependenciesç”¨äºplugin,è€Œpomçš„denpendenciesç”¨äºé¡¹ç›®æœ¬èº«ã€‚åœ¨pluginçš„dependenciesä¸»è¦ç”¨äºæ”¹å˜pluginåŸæ¥çš„dependenciesï¼Œä¾‹å¦‚æ’é™¤ä¸€äº›ç”¨ä¸åˆ°çš„dependencyæˆ–è€…ä¿®æ”¹dependencyçš„ç‰ˆæœ¬ç­‰ï¼Œè¯¦ç»†è¯·çœ‹pomçš„denpendencies.</p>

<p><strong>executions</strong>:pluginä¹Ÿæœ‰å¾ˆå¤šä¸ªç›®æ ‡ï¼Œæ¯ä¸ªç›®æ ‡å…·æœ‰ä¸åŒçš„é…ç½®ï¼Œexecutionså°±æ˜¯è®¾å®špluginçš„ç›®æ ‡ï¼Œ</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>					<span class="nt">&lt;execution&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;id&gt;</span>echodir<span class="nt">&lt;/id&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;goals&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;goal&gt;</span>run<span class="nt">&lt;/goal&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;/goals&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;phase&gt;</span>verify<span class="nt">&lt;/phase&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;inherited&gt;</span>false<span class="nt">&lt;/inherited&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;configuration&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;tasks&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;echo&gt;</span>Build Dir: ${project.build.directory}<span class="nt">&lt;/echo&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;/tasks&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;/configuration&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;/execution&gt;</span>Â 
</code></pre></div></div>
<p><strong>id</strong>:æ ‡è¯†ç¬¦</p>

<p><strong>goals</strong>:é‡Œé¢åˆ—å‡ºä¸€ç³»åˆ—çš„goalså…ƒç´ ï¼Œä¾‹å¦‚ä¸Šé¢çš„run goal</p>

<p><strong>phase</strong>:å£°æ˜goalsæ‰§è¡Œçš„æ—¶æœŸï¼Œä¾‹å¦‚ï¼šverify</p>

<p><strong>inherited</strong>:æ˜¯å¦ä¼ é€’executionåˆ°å­pomé‡Œã€‚</p>

<p><strong>configuration</strong>:è®¾ç½®executionä¸‹åˆ—è¡¨çš„goalsçš„è®¾ç½®ï¼Œè€Œä¸æ˜¯pluginæ‰€æœ‰çš„goalsçš„è®¾ç½®</p>

<h5 id="pluginmanagementé…ç½®">pluginManagementé…ç½®</h5>

<p>pluginManagementçš„ä½œç”¨ç±»ä¼¼äºdenpendencyManagement,åªæ˜¯denpendencyManagementæ˜¯ç”¨äºç®¡ç†é¡¹ç›®jaråŒ…ä¾èµ–ï¼ŒpluginManagementæ˜¯ç”¨äºç®¡ç†pluginã€‚ä¸pom buildé‡Œçš„pluginsåŒºåˆ«æ˜¯ï¼Œ<strong>è¿™é‡Œçš„pluginæ˜¯åˆ—å‡ºæ¥ï¼Œç„¶åè®©å­pomæ¥å†³å®šæ˜¯å¦å¼•ç”¨ã€‚</strong></p>

<p>ä¾‹å¦‚ï¼š</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="nt">&lt;pluginManagement&gt;</span> 
Â Â Â Â  <span class="nt">&lt;plugins&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;plugin&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;artifactId&gt;</span>maven-jar-plugin<span class="nt">&lt;/artifactId&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;version&gt;</span>2.2<span class="nt">&lt;/version&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;executions&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;execution&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;id&gt;</span>pre-process-classes<span class="nt">&lt;/id&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;phase&gt;</span>compile<span class="nt">&lt;/phase&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;goals&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;goal&gt;</span>jar<span class="nt">&lt;/goal&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;/goals&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;configuration&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;classifier&gt;</span>pre-process<span class="nt">&lt;/classifier&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;/configuration&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;/execution&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;/executions&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;/plugin&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;/plugins&gt;</span>Â 
Â Â Â  <span class="nt">&lt;/pluginManagement&gt;</span>Â 
</code></pre></div></div>
<p>å­pomå¼•ç”¨æ–¹æ³•ï¼šÂ 
åœ¨pomçš„buildé‡Œçš„pluginså¼•ç”¨ï¼šÂ </p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Â Â Â  <span class="nt">&lt;plugins&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;plugin&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;artifactId&gt;</span>maven-jar-plugin<span class="nt">&lt;/artifactId&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;/plugin&gt;</span>Â 
Â Â Â  <span class="nt">&lt;/plugins&gt;</span>
</code></pre></div></div>

<p>buildé‡Œçš„directories:</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>		<span class="nt">&lt;sourceDirectory&gt;</span>${basedir}/src/main/java<span class="nt">&lt;/sourceDirectory&gt;</span>Â 
Â Â Â  <span class="nt">&lt;scriptSourceDirectory&gt;</span>${basedir}/src/main/scripts<span class="nt">&lt;/scriptSourceDirectory&gt;</span>Â 
Â Â Â  <span class="nt">&lt;testSourceDirectory&gt;</span>${basedir}/src/test/java<span class="nt">&lt;/testSourceDirectory&gt;</span>Â 
Â Â Â  <span class="nt">&lt;outputDirectory&gt;</span>${basedir}/target/classes<span class="nt">&lt;/outputDirectory&gt;</span>Â 
Â Â Â  <span class="nt">&lt;testOutputDirectory&gt;</span>${basedir}/target/test-classes<span class="nt">&lt;/testOutputDirectory&gt;</span>
</code></pre></div></div>
<p>è¿™å‡ ä¸ªå…ƒç´ åªåœ¨parent build elementé‡Œé¢å®šä¹‰ï¼Œä»–ä»¬è®¾ç½®å¤šç§è·¯å¾„ç»“æ„ï¼Œä»–ä»¬å¹¶ä¸åœ¨profileé‡Œï¼Œæ‰€ä»¥ä¸èƒ½é€šè¿‡profileæ¥ä¿®æ”¹</p>

<h5 id="extensions">Extensions</h5>

<p>å®ƒä»¬æ˜¯ä¸€ç³»åˆ—buildè¿‡ç¨‹ä¸­è¦ä½¿ç”¨çš„äº§å“ï¼Œä»–ä»¬ä¼šåŒ…å«åœ¨running bulidâ€˜s classpathé‡Œé¢ã€‚ä»–ä»¬å¯ä»¥å¼€å¯extensionsï¼Œä¹Ÿå¯ä»¥é€šè¿‡æä¾›æ¡ä»¶æ¥æ¿€æ´»pluginsã€‚ç®€å•æ¥è®²ï¼Œ<strong>extensionsæ˜¯åœ¨buildè¿‡ç¨‹è¢«æ¿€æ´»çš„äº§å“</strong>Â .</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Â Â Â  <span class="nt">&lt;extensions&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;extension&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;groupId&gt;</span>org.apache.maven.wagon<span class="nt">&lt;/groupId&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;artifactId&gt;</span>wagon-ftp<span class="nt">&lt;/artifactId&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;version&gt;</span>1.0-alpha-3<span class="nt">&lt;/version&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;/extension&gt;</span>Â 
Â Â Â  <span class="nt">&lt;/extensions&gt;</span>Â 
</code></pre></div></div>

<h5 id="reporting">reporting</h5>

<p>reportingåŒ…å«siteç”Ÿæˆé˜¶æ®µçš„ä¸€äº›å…ƒç´ ï¼ŒæŸäº›maven pluginå¯ä»¥ç”Ÿæˆreportså¹¶ä¸”åœ¨reportingä¸‹é…ç½®ã€‚ä¾‹å¦‚javadoc,maven siteç­‰ï¼Œåœ¨reportingä¸‹é…ç½®çš„report pluginçš„æ–¹æ³•ä¸buildå‡ ä¹ä¸€æ ·ï¼Œæœ€ä¸åŒçš„æ˜¯buildçš„plugin goalsåœ¨executionsä¸‹è®¾ç½®ï¼Œè€Œreportingçš„configures goalsåœ¨reporttestã€‚</p>

<p><strong>excludeDefaults</strong>:æ˜¯å¦æ’é™¤site generatoré»˜è®¤äº§ç”Ÿçš„reports</p>

<p><strong>outputDirectory</strong>ï¼Œé»˜è®¤çš„dirå˜æˆ:${basedir}/target/site</p>

<p><strong>reportSets</strong>:è®¾ç½®execution goals,ç›¸å½“äºbuildé‡Œé¢çš„executions,ä¸åŒçš„æ˜¯ä¸èƒ½å¤Ÿbind a report to another phase,åªèƒ½å¤Ÿæ˜¯site</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;reporting&gt;</span>Â 
Â Â Â  <span class="nt">&lt;plugins&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;plugin&gt;</span>Â 
Â Â Â Â Â Â Â  ...Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;reportSets&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;reportSet&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;id&gt;</span>sunlink<span class="nt">&lt;/id&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;reports&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;report&gt;</span>javadoc<span class="nt">&lt;/report&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;/reports&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;inherited&gt;</span>true<span class="nt">&lt;/inherited&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;configuration&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;links&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;link&gt;</span>http://java.sun.com/j2se/1.5.0/docs/api/<span class="nt">&lt;/link&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;/links&gt;</span>Â 
Â Â Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;/configuration&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;/reportSet&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;/reportSets&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;/plugin&gt;</span>Â 
Â Â Â  <span class="nt">&lt;/plugins&gt;</span>Â 
Â  <span class="nt">&lt;/reporting&gt;</span>Â 
</code></pre></div></div>
<p>reportingé‡Œé¢çš„reportSetså’Œbuildé‡Œé¢çš„executionsçš„ä½œç”¨éƒ½æ˜¯æ§åˆ¶pomçš„ä¸åŒç²’åº¦å»æ§åˆ¶buildçš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬ä¸å•è¦é…ç½®pluginsï¼Œè¿˜è¦é…ç½®é‚£äº›pluginså•ç‹¬çš„goalsã€‚</p>

<h5 id="maven-shade-plugin">Maven-shade-plugin</h5>

<p>å¦‚æœæ˜¯ä½œä¸ºä½¿ç”¨æ–¹å¯ä»¥ä½¿ç”¨<code class="highlighter-rouge">exclusions</code>æ¥å»æ‰ä¸€äº›ä¾èµ–åŒ…é¿å…å†²çªï¼Œè€Œå¦‚æœæ˜¯ä½œä¸ºæä¾›æ–¹ï¼Œæœ‰æ—¶å€™éœ€è¦åœ¨æä¾›jaråŒ…æ—¶å€™é¿å…äº§ç”Ÿä¾èµ–å†²çªï¼Œè€Œ<code class="highlighter-rouge">maven-shade-plugin</code>éå¸¸é€‚åˆè¿™ä¸ªåœºæ™¯.</p>

<p>ä¸‹é¢è¿™ä¸ªä¾‹å­ã€‚</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;build&gt;</span>
        <span class="nt">&lt;plugins&gt;</span>
            <span class="nt">&lt;plugin&gt;</span>
                <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
                <span class="nt">&lt;artifactId&gt;</span>maven-shade-plugin<span class="nt">&lt;/artifactId&gt;</span>
                <span class="nt">&lt;version&gt;</span>3.1.1<span class="nt">&lt;/version&gt;</span>
                <span class="nt">&lt;configuration&gt;</span>
                    <span class="nt">&lt;artifactSet&gt;</span>
                      	<span class="c">&lt;!-- æŠŠå“ªäº›åŒ…æ‰“è¿›å» --&gt;</span>
                        <span class="nt">&lt;includes&gt;</span>
                            <span class="nt">&lt;include&gt;</span>redis.clients:jedis<span class="nt">&lt;/include&gt;</span>
                            <span class="nt">&lt;include&gt;</span>org.apache.commons:commons-pool2<span class="nt">&lt;/include&gt;</span>
                        <span class="nt">&lt;/includes&gt;</span>
                    <span class="nt">&lt;/artifactSet&gt;</span>
                    <span class="nt">&lt;filters&gt;</span>
                        <span class="nt">&lt;filter&gt;</span>
                            <span class="nt">&lt;artifact&gt;</span>*:*<span class="nt">&lt;/artifact&gt;</span>
                          	<span class="c">&lt;!-- æ’é™¤ä¸€äº›æ–‡ä»¶ --&gt;</span>
                            <span class="nt">&lt;excludes&gt;</span>
                                <span class="nt">&lt;exclude&gt;</span>META-INF/*.SF<span class="nt">&lt;/exclude&gt;</span>
                                <span class="nt">&lt;exclude&gt;</span>META-INF/*.DSA<span class="nt">&lt;/exclude&gt;</span>
                                <span class="nt">&lt;exclude&gt;</span>META-INF/*.RSA<span class="nt">&lt;/exclude&gt;</span>
                            <span class="nt">&lt;/excludes&gt;</span>
                        <span class="nt">&lt;/filter&gt;</span>
                    <span class="nt">&lt;/filters&gt;</span>
                    <span class="nt">&lt;relocations&gt;</span>
                      	<span class="c">&lt;!-- å¯¹ä¸€äº›åŒ…åé‡å®šä½ï¼Œä»¥è§£å†³å†²çª. --&gt;</span>
                        <span class="nt">&lt;relocation&gt;</span>
                            <span class="nt">&lt;pattern&gt;</span>redis<span class="nt">&lt;/pattern&gt;</span>
                            <span class="nt">&lt;shadedPattern&gt;</span>scyuan.maven.shaded.redis<span class="nt">&lt;/shadedPattern&gt;</span>
                        <span class="nt">&lt;/relocation&gt;</span>
                        <span class="nt">&lt;relocation&gt;</span>
                            <span class="nt">&lt;pattern&gt;</span>org.apache.commons<span class="nt">&lt;/pattern&gt;</span>
                            <span class="nt">&lt;shadedPattern&gt;</span>scyuan.maven.shaded.org.apache.commons<span class="nt">&lt;/shadedPattern&gt;</span>
                        <span class="nt">&lt;/relocation&gt;</span>
                    <span class="nt">&lt;/relocations&gt;</span>
                <span class="nt">&lt;/configuration&gt;</span>
                <span class="nt">&lt;executions&gt;</span>
                    <span class="nt">&lt;execution&gt;</span>
                        <span class="c">&lt;!-- åœ¨packageé˜¶æ®µæ‰§è¡Œshade goal,è¿™äº›goalæ˜¯å®šå¥½çš„ --&gt;</span>
                     		<span class="c">&lt;!-- å¯åœ¨maven-shade-plugin-${ver}.jar/META-INF/maven/plugin.xmlä¸­æŸ¥çœ‹æœ‰å“ªäº›goal --&gt;</span>
                        <span class="nt">&lt;phase&gt;</span>package<span class="nt">&lt;/phase&gt;</span>
                        <span class="nt">&lt;goals&gt;</span>
                            <span class="nt">&lt;goal&gt;</span>shade<span class="nt">&lt;/goal&gt;</span>
                        <span class="nt">&lt;/goals&gt;</span>
                    <span class="nt">&lt;/execution&gt;</span>
                <span class="nt">&lt;/executions&gt;</span>
            <span class="nt">&lt;/plugin&gt;</span>
        <span class="nt">&lt;/plugins&gt;</span>
    <span class="nt">&lt;/build&gt;</span>
</code></pre></div></div>

<h4 id="æ›´å¤šé¡¹ç›®ä¿¡æ¯">æ›´å¤šé¡¹ç›®ä¿¡æ¯</h4>

<p>name:é¡¹ç›®é™¤äº†artifactIdå¤–ï¼Œå¯ä»¥å®šä¹‰å¤šä¸ªåç§°
description: é¡¹ç›®æè¿°
url: é¡¹ç›®url
inceptionYear:åˆ›å§‹å¹´ä»½</p>

<p><strong>Licenses</strong></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;licenses&gt;</span>
Â  <span class="nt">&lt;license&gt;</span>
Â Â Â  <span class="nt">&lt;name&gt;</span>Apache 2<span class="nt">&lt;/name&gt;</span>
Â Â Â  <span class="nt">&lt;url&gt;</span>http://www.apache.org/licenses/LICENSE-2.0.txt<span class="nt">&lt;/url&gt;</span>
Â Â Â  <span class="nt">&lt;distribution&gt;</span>repo<span class="nt">&lt;/distribution&gt;</span>
Â Â Â  <span class="nt">&lt;comments&gt;</span>A business-friendly OSS license<span class="nt">&lt;/comments&gt;</span>
Â  <span class="nt">&lt;/license&gt;</span>
<span class="nt">&lt;/licenses&gt;</span>
</code></pre></div></div>

<p>åˆ—å‡ºæœ¬å·¥ç¨‹ç›´æ¥çš„licensesï¼Œè€Œä¸è¦åˆ—å‡ºdependenciesçš„licenses</p>

<p>é…ç½®ç»„ç»‡ä¿¡æ¯:</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Â  <span class="nt">&lt;organization&gt;</span>
Â Â Â  <span class="nt">&lt;name&gt;</span>Codehaus Mojo<span class="nt">&lt;/name&gt;</span>
Â Â Â  <span class="nt">&lt;url&gt;</span>http://mojo.codehaus.org<span class="nt">&lt;/url&gt;</span>
Â  <span class="nt">&lt;/organization&gt;</span>
</code></pre></div></div>

<p>å¾ˆå¤šå·¥ç¨‹éƒ½å—åˆ°æŸäº›ç»„ç»‡è¿è¡Œï¼Œè¿™é‡Œè®¾ç½®åŸºæœ¬ä¿¡æ¯</p>

<p>é…ç½®å¼€å‘è€…ä¿¡æ¯:</p>

<p>ä¾‹å¦‚ï¼šä¸€ä¸ªå¼€å‘è€…å¯ä»¥æœ‰å¤šä¸ªrolesï¼Œpropertiesæ˜¯Â </p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;developers&gt;</span>
Â Â Â  <span class="nt">&lt;developer&gt;</span>
Â Â Â Â Â  <span class="nt">&lt;id&gt;</span>eric<span class="nt">&lt;/id&gt;</span>
Â Â Â Â Â  <span class="nt">&lt;name&gt;</span>Eric<span class="nt">&lt;/name&gt;</span>
Â Â Â Â Â  <span class="nt">&lt;email&gt;</span>eredmond@codehaus.org<span class="nt">&lt;/email&gt;</span>
Â Â Â Â Â  <span class="nt">&lt;url&gt;</span>http://eric.propellors.net<span class="nt">&lt;/url&gt;</span>
Â Â Â Â Â  <span class="nt">&lt;organization&gt;</span>Codehaus<span class="nt">&lt;/organization&gt;</span>
Â Â Â Â Â  <span class="nt">&lt;organizationUrl&gt;</span>http://mojo.codehaus.org<span class="nt">&lt;/organizationUrl&gt;</span>
Â Â Â Â Â  <span class="nt">&lt;roles&gt;</span>
Â Â Â Â Â Â Â  <span class="nt">&lt;role&gt;</span>architect<span class="nt">&lt;/role&gt;</span>
Â Â Â Â Â Â Â  <span class="nt">&lt;role&gt;</span>developer<span class="nt">&lt;/role&gt;</span>
Â Â Â Â Â  <span class="nt">&lt;/roles&gt;</span>
Â Â Â Â Â  <span class="nt">&lt;timezone&gt;</span>-6<span class="nt">&lt;/timezone&gt;</span>
Â Â Â Â Â  <span class="nt">&lt;properties&gt;</span>
Â Â Â Â Â Â Â  <span class="nt">&lt;picUrl&gt;</span>http://tinyurl.com/prv4t<span class="nt">&lt;/picUrl&gt;</span>
Â Â Â Â Â  <span class="nt">&lt;/properties&gt;</span>
Â Â Â  <span class="nt">&lt;/developer&gt;</span>
Â  <span class="nt">&lt;/developers&gt;</span>
</code></pre></div></div>

<h5 id="ç¯å¢ƒè®¾ç½®">ç¯å¢ƒè®¾ç½®</h5>

<h6 id="issuemanagement">issueManagement</h6>

<p>bugè·Ÿè¸ªç®¡ç†ç³»ç»Ÿ,å®šä¹‰defect tracking systemç¼ºé™·è·Ÿè¸ªç³»ç»Ÿï¼Œæ¯”å¦‚æœ‰ï¼ˆbugzilla,testtrack,clearquestç­‰ï¼‰.
ä¾‹å¦‚:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;issueManagement&gt;</span> 
    <span class="nt">&lt;system&gt;</span>Bugzilla<span class="nt">&lt;/system&gt;</span> 
    <span class="nt">&lt;url&gt;</span>http://127.0.0.1/bugzilla/<span class="nt">&lt;/url&gt;</span> 
  <span class="nt">&lt;/issueManagement&gt;</span> 
</code></pre></div></div>

<h6 id="repositories">Repositories</h6>

<p>pomé‡Œé¢çš„ä»“åº“ä¸setting.xmlé‡Œçš„ä»“åº“åŠŸèƒ½æ˜¯ä¸€æ ·çš„ã€‚ä¸»è¦çš„åŒºåˆ«åœ¨äºï¼Œpomé‡Œçš„ä»“åº“æ˜¯ä¸ªæ€§åŒ–çš„ã€‚æ¯”å¦‚ä¸€å®¶å¤§å…¬å¸é‡Œçš„settingæ–‡ä»¶æ˜¯å…¬ç”¨ çš„ï¼Œæ‰€æœ‰é¡¹ç›®éƒ½ç”¨ä¸€ä¸ªsettingæ–‡ä»¶ï¼Œä½†å„ä¸ªå­é¡¹ç›®å´ä¼šå¼•ç”¨ä¸åŒçš„ç¬¬ä¸‰æ–¹åº“ï¼Œæ‰€ä»¥å°±éœ€è¦åœ¨pomé‡Œè®¾ç½®è‡ªå·±éœ€è¦çš„ä»“åº“åœ°å€ã€‚</p>

<p>repositoriesï¼šè¦æˆä¸ºmaven2çš„repository artifactï¼Œå¿…é¡»å…·æœ‰pomæ–‡ä»¶åœ¨$BASE_REPO/groupId/artifactId/version/artifactId-version.pom 
BASE_REPOå¯ä»¥æ˜¯æœ¬åœ°ï¼Œä¹Ÿå¯ä»¥æ˜¯è¿œç¨‹çš„ã€‚repositoryå…ƒç´ å°±æ˜¯å£°æ˜é‚£äº›å»æŸ¥æ‰¾çš„repositories 
é»˜è®¤çš„central Maven repositoryåœ¨http://repo1.maven.org/maven2/</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;repositories&gt;</span>Â 
Â Â Â  <span class="nt">&lt;repository&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;releases&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;enabled&gt;</span>false<span class="nt">&lt;/enabled&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;updatePolicy&gt;</span>always<span class="nt">&lt;/updatePolicy&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;checksumPolicy&gt;</span>warn<span class="nt">&lt;/checksumPolicy&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;/releases&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;snapshots&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;enabled&gt;</span>true<span class="nt">&lt;/enabled&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;updatePolicy&gt;</span>never<span class="nt">&lt;/updatePolicy&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;checksumPolicy&gt;</span>fail<span class="nt">&lt;/checksumPolicy&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;/snapshots&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;id&gt;</span>codehausSnapshots<span class="nt">&lt;/id&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;name&gt;</span>Codehaus Snapshots<span class="nt">&lt;/name&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;url&gt;</span>http://snapshots.maven.codehaus.org/maven2<span class="nt">&lt;/url&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;layout&gt;</span>default<span class="nt">&lt;/layout&gt;</span>Â 
Â Â Â  <span class="nt">&lt;/repository&gt;</span>Â 
Â  <span class="nt">&lt;/repositories&gt;</span>Â 
</code></pre></div></div>
<p>releaseå’Œsnapshotsï¼šæ˜¯artifactçš„ä¸¤ç§policiesï¼Œpomå¯ä»¥é€‰æ‹©é‚£ç§æ”¿ç­–æœ‰æ•ˆã€‚ 
enableï¼šæœ¬åˆ«æŒ‡å®šä¸¤ç§ç±»å‹æ˜¯å¦å¯ç”¨ï¼Œtrue or false 
updatePolicy:è¯´æ˜æ›´æ–°å‘ç”Ÿçš„é¢‘ç‡always æˆ–è€… never æˆ–è€… dailyï¼ˆé»˜è®¤çš„ï¼‰æˆ–è€… interval:Xï¼ˆXæ˜¯åˆ†é’Ÿæ•°ï¼‰</p>

<p>checksumPolicyï¼šå½“Mavençš„éƒ¨ç½²æ–‡ä»¶åˆ°ä»“åº“ä¸­ï¼Œå®ƒä¹Ÿéƒ¨ç½²äº†ç›¸åº”çš„æ ¡éªŒå’Œæ–‡ä»¶ã€‚æ‚¨å¯ä»¥é€‰æ‹©å¿½ç•¥ï¼Œå¤±è´¥ï¼Œæˆ–ç¼ºå°‘æˆ–ä¸æ­£ç¡®çš„æ ¡éªŒå’Œè­¦å‘Šã€‚</p>

<p>layoutï¼šmaven1.xä¸maven2æœ‰ä¸åŒçš„layoutï¼Œæ‰€ä»¥å¯ä»¥å£°æ˜ä¸ºdefaultæˆ–è€…æ˜¯legacyï¼ˆé—ç•™æ–¹å¼maven1.xï¼‰ã€‚</p>

<h6 id="pluginrepositories">pluginRepositories</h6>

<p>ä¸Repositorieså…·æœ‰ç±»ä¼¼çš„ç»“æ„ï¼Œåªæ˜¯Repositoriesæ˜¯dependenciesçš„homeï¼Œè€Œè¿™ä¸ªæ˜¯plugins çš„homeã€‚</p>

<h6 id="distributionmanagement">distributionManagement</h6>

<p>ç®¡ç†distributionå’Œsupporting filesã€‚</p>

<p>downloadUrlï¼šæ˜¯å…¶ä»–é¡¹ç›®ä¸ºäº†æŠ“å–æœ¬é¡¹ç›®çš„pomâ€™s artifactè€ŒæŒ‡å®šçš„urlï¼Œå°±æ˜¯è¯´å‘Šè¯‰pom uploadçš„åœ°å€ä¹Ÿå°±æ˜¯åˆ«äººå¯ä»¥ä¸‹è½½çš„åœ°å€ã€‚Â 
statusï¼šè¿™é‡Œçš„çŠ¶æ€ä¸è¦å—åˆ°æˆ‘ä»¬çš„è®¾ç½®ï¼Œmavenä¼šè‡ªåŠ¨è®¾ç½®projectçš„çŠ¶æ€ï¼Œæœ‰æ•ˆçš„å€¼ï¼šnoneï¼šæ²¡æœ‰å£°æ˜çŠ¶æ€ï¼Œpomé»˜è®¤çš„ï¼›convertedï¼šæœ¬projectæ˜¯ç®¡ç†å‘˜ä»åŸå…ˆçš„mavenç‰ˆæœ¬convertåˆ°maven2çš„ï¼›partnerï¼šä»¥å‰å«åšsynchedï¼Œæ„æ€æ˜¯ä¸partner repositoryå·²ç»è¿›è¡Œäº†åŒæ­¥ï¼›deployedï¼šè‡³ä»Šä¸ºæ­¢æœ€ç»å¸¸çš„çŠ¶æ€ï¼Œæ„æ€æ˜¯åˆ¶å“æ˜¯ä»maven2 instanceéƒ¨ç½²çš„ï¼Œäººå·¥åœ¨å‘½ä»¤è¡Œdeployçš„å°±ä¼šå¾—åˆ°è¿™ä¸ªï¼›verifiedï¼šæœ¬åˆ¶å“å·²ç»ç»è¿‡éªŒè¯ï¼Œä¹Ÿå°±æ˜¯å·²ç»å®šä¸‹æ¥äº†æœ€ç»ˆç‰ˆã€‚Â 
repositoryï¼šå£°æ˜deployè¿‡ç¨‹ä¸­current projectä¼šå¦‚ä½•å˜æˆrepositoryï¼Œè¯´æ˜éƒ¨ç½²åˆ°repositoryçš„ä¿¡æ¯ã€‚</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Â Â Â  <span class="nt">&lt;repository&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;uniqueVersion&gt;</span>false<span class="nt">&lt;/uniqueVersion&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;id&gt;</span>corp1<span class="nt">&lt;/id&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;name&gt;</span>Corporate Repository<span class="nt">&lt;/name&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;url&gt;</span>scp://repo1/maven2<span class="nt">&lt;/url&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;layout&gt;</span>default<span class="nt">&lt;/layout&gt;</span>Â 
Â Â Â  <span class="nt">&lt;/repository&gt;</span>Â 
Â Â Â  <span class="nt">&lt;snapshotRepository&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;uniqueVersion&gt;</span>true<span class="nt">&lt;/uniqueVersion&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;id&gt;</span>propSnap<span class="nt">&lt;/id&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;name&gt;</span>Propellors Snapshots<span class="nt">&lt;/name&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;url&gt;</span>sftp://propellers.net/maven<span class="nt">&lt;/url&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;layout&gt;</span>legacy<span class="nt">&lt;/layout&gt;</span>Â 
Â Â Â  <span class="nt">&lt;/snapshotRepository&gt;</span>Â 
</code></pre></div></div>
<p>id, name:ï¼šå”¯ä¸€æ€§çš„idï¼Œå’Œå¯è¯»æ€§çš„nameÂ 
uniqueVersionï¼šæŒ‡å®šæ˜¯å¦äº§ç”Ÿä¸€ä¸ªå”¯ä¸€æ€§çš„version numberè¿˜æ˜¯ä½¿ç”¨addressé‡Œçš„å…¶ä¸­versionéƒ¨åˆ†ã€‚true or falseÂ 
urlï¼šè¯´æ˜locationå’Œtransport protocolÂ 
layoutï¼šdefaultæˆ–è€…legacy</p>

<h6 id="profiles">profiles</h6>

<p>pom4.0çš„ä¸€ä¸ªæ–°ç‰¹æ€§å°±æ˜¯å…·æœ‰æ ¹æ®environmentæ¥ä¿®æ”¹è®¾ç½®çš„èƒ½åŠ›</p>

<p>å®ƒåŒ…å«å¯é€‰çš„activationï¼ˆprofileçš„è§¦å‘å™¨ï¼‰å’Œä¸€ç³»åˆ—çš„changesã€‚ä¾‹å¦‚testè¿‡ç¨‹å¯èƒ½ä¼šæŒ‡å‘ä¸åŒçš„æ•°æ®åº“ï¼ˆç›¸å¯¹æœ€ç»ˆçš„deploymentï¼‰æˆ–è€…ä¸åŒçš„dependenciesæˆ–è€…ä¸åŒçš„repositoriesï¼Œå¹¶ä¸”æ˜¯æ ¹æ®ä¸åŒçš„JDKæ¥æ”¹å˜çš„ã€‚é‚£ä¹ˆç»“æ„å¦‚ä¸‹ï¼šÂ </p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Â  <span class="nt">&lt;profiles&gt;</span>Â 
Â Â Â  <span class="nt">&lt;profile&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;id&gt;</span>test<span class="nt">&lt;/id&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;activation&gt;</span>...<span class="nt">&lt;/activation&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;build&gt;</span>...<span class="nt">&lt;/build&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;modules&gt;</span>...<span class="nt">&lt;/modules&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;repositories&gt;</span>...<span class="nt">&lt;/repositories&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;pluginRepositories&gt;</span>...<span class="nt">&lt;/pluginRepositories&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;dependencies&gt;</span>...<span class="nt">&lt;/dependencies&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;reporting&gt;</span>...<span class="nt">&lt;/reporting&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;dependencyManagement&gt;</span>...<span class="nt">&lt;/dependencyManagement&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;distributionManagement&gt;</span>...<span class="nt">&lt;/distributionManagement&gt;</span>Â 
Â Â Â  <span class="nt">&lt;/profile&gt;</span>Â 
Â  <span class="nt">&lt;/profiles&gt;</span>Â 
</code></pre></div></div>
<p><strong>Activation</strong>
è§¦å‘è¿™ä¸ªprofileçš„æ¡ä»¶é…ç½®å¦‚ä¸‹ä¾‹ï¼šï¼ˆåªéœ€è¦å…¶ä¸­ä¸€ä¸ªæˆç«‹å°±å¯ä»¥æ¿€æ´»profileï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ¡ä»¶æ»¡è¶³äº†ï¼Œé‚£ä¹ˆåé¢å°±ä¸ä¼šåœ¨è¿›è¡ŒåŒ¹é…ã€‚Â </p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Â Â Â  <span class="nt">&lt;profile&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;id&gt;</span>test<span class="nt">&lt;/id&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;activation&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;activeByDefault&gt;</span>false<span class="nt">&lt;/activeByDefault&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;jdk&gt;</span>1.5<span class="nt">&lt;/jdk&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;os&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;name&gt;</span>Windows XP<span class="nt">&lt;/name&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;family&gt;</span>Windows<span class="nt">&lt;/family&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;arch&gt;</span>x86<span class="nt">&lt;/arch&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;version&gt;</span>5.1.2600<span class="nt">&lt;/version&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;/os&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;property&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;name&gt;</span>mavenVersion<span class="nt">&lt;/name&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;value&gt;</span>2.0.3<span class="nt">&lt;/value&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;/property&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;file&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;exists&gt;</span>${basedir}/file2.properties<span class="nt">&lt;/exists&gt;</span>Â 
Â Â Â Â Â Â Â Â Â  <span class="nt">&lt;missing&gt;</span>${basedir}/file1.properties<span class="nt">&lt;/missing&gt;</span>Â 
Â Â Â Â Â Â Â  <span class="nt">&lt;/file&gt;</span>Â 
Â Â Â Â Â  <span class="nt">&lt;/activation&gt;</span>Â 
Â Â Â Â <span class="nt">&lt;/profile&gt;</span>
</code></pre></div></div>

<p>æ¿€æ´»profileçš„æ–¹æ³•æœ‰å¤šä¸ªï¼šsettingæ–‡ä»¶çš„activeProfileå…ƒç´ æ˜ç¡®æŒ‡å®šæ¿€æ´»çš„profileçš„IDï¼Œåœ¨å‘½ä»¤è¡Œä¸Šæ˜ç¡®æ¿€æ´»Profileç”¨-P flag å‚æ•°</p>

<p>å¦‚:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nt">&lt;profile&gt;</span>
            <span class="nt">&lt;id&gt;</span>spark-2.3<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;properties&gt;</span>
                <span class="nt">&lt;spark.version&gt;</span>2.3.2<span class="nt">&lt;/spark.version&gt;</span>
                <span class="nt">&lt;scalatest.version&gt;</span>3.0.3<span class="nt">&lt;/scalatest.version&gt;</span>
            <span class="nt">&lt;/properties&gt;</span>
        <span class="nt">&lt;/profile&gt;</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./build/mvn clean install -Pspark-2.3
</code></pre></div></div>

<p>è¿™é‡Œå°±æ¿€æ´»äº†spark-2.3å¯¹åº”çš„properties.</p>

<p>æŸ¥çœ‹æŸä¸ªbuildä¼šæ¿€æ´»çš„profileåˆ—è¡¨å¯ä»¥ç”¨ï¼šmvn help:active-profiles</p>

<h3 id="references">References</h3>

<p>http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html</p>

<p>https://www.cnblogs.com/qq78292959/p/3711501.html</p>
:ET